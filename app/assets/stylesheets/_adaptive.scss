/* ------------------------
 Adaptive
------------------------ */



// Small devices (landscape phones, 34em and up)
@media (min-width: 34em) {

  .modal-content .modal-header { top: 1.112em; right: 1.112em; }
  .modal-content .modal-body   { padding: 1.112em; }

  a[data-toggle="lightbox"] {
    width: 32.03em;
    height: 18.018em;
    margin-right: auto;
    margin-left: auto;
  }

  a[data-toggle="lightbox"]:after {
    background-image: url('./expand.svg');
    background-repeat: no-repeat;
    background-size: .8em;
    background-position: 80% 50%;
    content: 'Expand Image';
    padding-right: 2em;
  }
}




// Medium devices (tablets, 48em and up)
@media (min-width: 48em) {



  // Typography - medium

  %-lgtxt { font-size: 4.5rem; line-height: 5.4rem; }

  %-mdtxt { font-size: 2.6rem; line-height: 3.6rem; }

  .scrollup .nav-container-fluid > .row > .container > .navbar > .navbar-collapse > .navbar-right > li > a,
  h3, h4, .deck.-big-dark *,  .deck.-big-light *
          { font-size: 2.6rem; line-height: 3.6rem; }


  %-bodytxt { font-size: 1.8rem; line-height: 3rem; }

  p, li, form, .search .fa.fa-search, .-bodytxt, .deck.-small-light *, .simple_form select
          { font-size: 1.8rem; line-height: 3rem; }


  %-lineheight { line-height: 3rem; }


  %-smtxt { font-size: 1.5rem; line-height: 2.4rem; }

  .copyright-txt p, %-smallcaps, .-smallcaps
          { font-size: 1.5rem; line-height: 2.4rem; }

  .announcements-row p
          { font-size: 1.5rem; }



  %bodycontentstyles {
    pre { margin-left: -1em; padding: 1em; }
  }




  // Structure - medium

  .-displayflex-desktop { display: flex; img { align-self: flex-end; } }
  .-mobile-hide { display: block;  &.-inline { display: inline; } }
  .-desktop-hide { display: none; }

  .-floatright-desktop { float: right; }



  $container-nopad: 720px;
  %listing-row > a { width: $container-nopad; }

  $container: 750px;
  %container { width: $container; }


  .-paddedrow { padding-top: 8em; }
  .-heropaddedrow { padding-top: 9.5em; padding-bottom: 9.5em; }

  .flexwrapper { display: flex;  }

  .-bluebottombordermobile { border-bottom: none; }

  .-contentp + .-contentp { margin-top: 2em; }

  .-small-light { padding-top: 3.5em; padding-bottom: 1em; }


  %bodycontentstyles {
    * + h2 { margin-top: 3.5em; }
    table { width: calc(100% + 2em); margin-left: -1em; }
  }

  %bodycontentrow {
    .container {
      padding-top: 5em;
      padding-bottom: 8em;
    }

    &.-blog, &.-events {
      .container {
        padding-top: 0;
        padding-bottom: 5.5em;
      }
    }
  }

  %overhang { width: calc(100% + 2em); margin-left: -1em; }


  %-chevronright-circle > a:before { margin-top: .4em; }



  // Nav - scrollup - medium

  $scrollnavh: 2.45em;

  @include keyframes(navdown) {
      0% { top: -2.45em; }
      100% { top: 0; }
  }

  .navbar-brand { width: 12em; padding: 0; }


  .navbar-nav .open .dropdown-menu > li > a { padding: .4em 0 .4em 15px; }

  body:not(.scrollup) { .sm-logo-div { display: none; } }
  body:not(.scrollup) .navbar-right .navbar-form { padding-top: .8em; }

  .nav-container-fluid > .row > .container > .navbar > .navbar-collapse > .navbar-right { margin-right: -2.1em; }

  body:not(.scrollup) .navbar-nav.navbar-right li.active > a {
    color: $blue6;
    background: $blue11;

    @include hover {
      color: $blue6;
      background: $blue11;
    }
  }


  body:not(.scrollup) .navbar-nav.navbar-top li.active > a {
    color: $gray3;

    @include hover {
      color: $gray3;
    }
  }


  body.scrollup .nav-container-fluid > .row > .container > .navbar > .navbar-collapse > .navbar-right > li.active > a {
    color: $blue6;
    background: none;

    @include hover {
      color: $blue6;
      background: none;
    }
  }



  body.scrollup {
    background: $blue1;
    padding-top: 10.143em;

    .md-logo-div { display: none; }

    #navbar.collapsing { min-height: 42px; }

    .nav-container-fluid {
      width: 100%;
      height: $scrollnavh;
      border: none;
      margin-top: 0;
      position: fixed;
       top: 0;
      z-index: 400;

      -webkit-animation-name: navdown;
      -webkit-animation-timing-function: linear;
      -webkit-animation-iteration-count: 1;
      -webkit-animation-duration: .15s;

      animation-name: navdown;
      animation-timing-function: linear;
      animation-iteration-count: 1;
      animation-duration: .15s;

      .navbar-toggle {
        width: 7.5em;
        height: $scrollnavh;
        color: $blue4;
        display: block;
        font-weight: 700;
        padding: 0;
        position: absolute;
         right: 5em;
        @include transition-multi(background $trans, color $trans);

        &[aria-expanded="true"] {
          color: white;
          background: $blue2;
        }

        @include hover {
          color: white;
          background: $blue2;
        }

        .fa-bars {
          display: inline-block;
          font-size: 2rem;
          margin-left: .17em;
        }
      }


      // .navbar-right > li.resources > .dropdown-menu > li:first-of-type:before {
      //   width: auto;
      //   border: none;
      //   border-bottom: 1px solid $blue4;
      //   content: 'Find Resources by Topic';
      //   margin-bottom: 1.733em;
      //   padding-top: .65em;
      //   padding-bottom: 1.733em;
      // }

      // .navbar-right > li:first-of-type { padding-left: 0;   }


      // .resources > .dropdown-menu { width: 25em; }

      &> .row > .container > .navbar > .navbar-collapse > .navbar-right {
        margin-right: 0;
      }

      &> .row > .container > .navbar > .navbar-collapse > .navbar-right > li:not(.search):not(.active) {
        &> a {
          color: white;

          &:before {
            background: white;
          }
        }
      }


      &> .row > .container > .navbar > .navbar-collapse > .navbar-right > li.active > a {
        &:before {
          background: $blue6;
        }

        @include hover {
          &:before {
            background: $blue6;
          }
        }
      }


      &> .row > .container > .navbar > .navbar-collapse > .navbar-right > li:not(.search) {
        width: 11em;
        clear: right;
        float: right;

        &:nth-of-type(1) {
          width: 20em;
          clear: none;
          float: left;
          padding-top: 2em;
          padding-bottom: 1.5em;
          padding-left: 0;
        }

        &:nth-of-type(2) {
          padding-top: 2.5em;
        }

        &> a {
          padding-top: .2em;
          padding-bottom: .2em;
          @include transition(color,.2s,ease-in-out);

          &:before {
            display: flex;
             align-items: center;
             justify-content: center;
            width: 1.5em;
            height: 1.5em;
            color: $blue2;
            font-family: 'Font Awesome 5 Pro';
            font-weight: 700;
            font-size: 18px;
            content: '\f105';
            margin-right: .5em;
            text-indent: .15em;
            @include border-radius(.75em);
            @include transition(background,.2s,ease-in-out);
          }

          @include hover {
            color: $blue6;
            @include transition(color,.2s,ease-in-out);
            &:before {
              background: $blue6;
              @include transition(background,.2s,ease-in-out);
            }
          }
        }
      }


      &> .row > .container > .navbar > #navbar > .nav > li.search {
        width: 2.38em;
        height: $scrollnavh;
        position: absolute;
         top: -2.475em;
         right: 0;

        &> a {
          justify-content: center;
          padding: 0;
        }
      }

      .navbar-nav .search.open .dropdown-menu {
        padding: 0;

        input[type="text"] { border-bottom: none; }

        .input-group {
          align-items: baseline;
          justify-content: space-between;
        }

        .navbar-form {
          margin: 0;
        }
      }

      .navbar-form .input-group > .form-control {
        width: calc(100% - 1.5em);
        padding-top: .35em;
      }

      .search.open > .dropdown-menu input[type="text"] { font-size: 2rem; }

      .search .btn {
        padding: 0;
      }

      &> .row > .container > .navbar > .navbar-collapse > .navbar-right > li:first-of-type > a {
        display: none;
      }

      &> .row > .container > .navbar > .navbar-collapse {

        &.collapse > .navbar-right { height: 0; overflow: visible; &> li:not(.search) { display: none; } }
        &> .navbar-right, &.collapse.in > .navbar-right { height: auto; &> li:not(.search) { display: block; } }
      }


      .navbar-right {
        background: $blue2;
        position: absolute;
         top: $scrollnavh;
         right: 0;

        .dropdown:not(.search) > a:after { display: none; }
        .resources > .dropdown-menu {
          display: block;
          position: relative;
        }
      }

      .navbar-brand {
        max-width: none;

        .sm-logo-div {
          max-width: none;
          background-image: url('./bss-logo-sm-2.svg');
          background-repeat: no-repeat;
          background-position: 0 50%;
          background-size: contain;
          @include transition-one(background-image);
        }

        @include hover {
          .sm-logo-div {
            background-image: url('./bss-logo-sm-2-hover.svg');
            @include transition-one(background-image);
          }
        }
      }
    }
  }



  // Nav - medium

  .breadcrumb > li { font-size: 1.5rem; }
  .breadcrumb > li:nth-of-type(4) { display: inline-block; }

/*   .nav-container-fluid > .row > .container,
  .nav-container-fluid > .row > .container > .navbar > #navbar {
    padding-right: 15px;
    padding-left: 15px;
  }
 */
  .nav-container-fluid > .row,
  .nav-container-fluid > .row > .container,
  .nav-container-fluid > .row > .container > .navbar {
    height: 100%;
  }

  .navbar-header {
    height: 100%;
    display: flex;
     align-items: center;
  }

  .navbar-nav {

    li { font-weight: 700; }

    .dropdown-menu > li {

      &> a:before { margin-right: 1.2em; }
      &> a { font-weight: 700; padding-top: .37em; padding-bottom: .37em; }
    }
  }



  // Top nav (gray) - medium

  .nav-container-fluid {
    // height: 7.143em;
    height: 8rem;
    margin-top: 3em;
    position: relative;

    &:before {
      width: calc(100% + 15px);
      height: 3em;
      background: $gray1;
      display: block;
      position: absolute;
       top: -3em;
       left: -15px;
      z-index: 1;
    }

    .navbar-top {
      height: 3em;
      background: none;
      position: absolute;
       top: -3em;
       right: -1.2em;
      z-index: 10;


      .dropdown-menu {
        width: 28em;

        &> li > a {
          width: calc(100% - 2.2em);
          position: relative;
           left: 2.2em;
          text-indent: -1.95em;
          white-space: normal;

          &:before {
            text-indent: 0;
          }
        }
      }

      &> li { height: 100%; display: inline-block; font-size: 1.5rem; }

      &> li > a {
        height: 100%;
        display: flex;
         align-items: center;
        padding: 0 1em;
      }
    }


    // Main nav (blue) - medium

    .navbar-right {

      &> li {
        font-size: 1.8rem;

        &.resources > .dropdown-menu > li:first-of-type {
          &:before {
            width: calc(100% - 1.5em);
            font-size: 2.6rem;
            font-weight: 400;
            margin-left: .75em;
            margin-bottom: 1.45em;
            padding-top: 1.116em;
            padding-bottom: 1.731em;
          }
        }

        &.resources > .dropdown-menu > li:last-of-type > a {
          margin-top: 1.5em;
        }
      }
    }



    // just fyi, we're still direct child of .nav-fluid-container



    // force 100% height so that display:flex works
    &> .row > .container > .navbar > #navbar.navbar-collapse.collapse { height: 100% !important; }

    &> .row > .container,
    &> .row > .container > .navbar,
    &> .row > .container > .navbar > .navbar-header,
    &> .row > .container > .navbar > .navbar-header > .navbar-brand,
    &> .row > .container > .navbar > .navbar-collapse > .navbar-right,
    &> .row > .container > .navbar > .navbar-collapse > .navbar-right > li,
    &> .row > .container > .navbar > .navbar-collapse > .navbar-right > li > a {
      height: 100%;
    }

    &> .row > .container > .navbar > .navbar-collapse > .nav > li > a  {
      padding-right: 1em;
      padding-left: 1em;
    }

    &> .row > .container > .navbar > .navbar-collapse > .navbar-right > li > a {
      display: flex; align-items: center;
    }

    &> .row > .container > .navbar > .navbar-header > .navbar-brand {
      display: flex;
      align-items: center;
    }
  }

  .navbar-nav .open .dropdown-menu {
    padding-top: 1em;
    padding-bottom: 1em;

    &> li > a {
      padding-left: 1em;
    }
  }

  .resources > .dropdown-menu {
    // width: 30.8em;
    width: 100%;
    left: 0;
  }



  // Search - medium

  .dropdown.search { margin-right: .3em; }

  .dropdown.search .dropdown-menu {
    height: 100%;
    position: absolute;
     top: 0;
  }

  body:not(.scrollup) .search.open > .dropdown-menu .navbar-form {
    padding-top: 1.25em;
  }

  .search.open > .dropdown-menu {
    width: 35em;

    .navbar-form {
      padding-left: 1.1em;
      padding-right: .82em;
      width: auto;
      height: auto;
      position: static;
      left: 0;
    }

    .input-group {
      display: flex;
    }

    .input-group-btn > .btn {
      display: inline-block;
    }
  }

  .search-form-row,
  .search.open > .dropdown-menu {
    input[type="text"] {
      height: 100%;
      border-bottom: 1px solid white;
      font-size: 2.6rem;
      padding-left: 0;
    }
  }


  body:not(.scrollup) .nav .search .input-group-btn > .btn { top: .5em; right: -2.9em; }
  body.scrollup       .nav .search .input-group-btn > .btn { top: -.6em; right: -2.1em; }


  // so outline doesn't interfere with design
  .search {
    .input-group { position: relative; z-index: 30; }
    .input-btn   { position: relative; z-index: 20; }
  }

  .hero-row + .search-results-row  { margin-top: 8em; }


  .search-form-row > .container { padding: 0; }
  .search-form-row > .container .btn { top: -1em; right: -.5em; }
  .search-form-row > .container > .search-page-form {
    margin-top: .6em;
    padding-top: 2em;
    padding-right: 1em;
    padding-bottom: 1.5em;
    padding-left: 1em;
  }



  // Home - medium

  .close-row .container .announcements-close { display: block; }

  .announcements-row {
    &> .container {
      height: 3.15em;
    }

    a:before { display: block; float: left; }

    .-displayflex-desktop {
      height: 100%;
      padding-top: 0;
      padding-bottom: 0;
      align-items: center;
    }

    p { width: calc(100% - 2.5em); }
  }


  .hero-row {
    min-height: 19em;
    display: flex;
     align-items: center;

    &.-home {
      min-height: 30em;
    }
  }

  .hero-row .list-inline:before { padding-top: .8em; }
  .hero-row .list-inline > li:first-of-type { clear: none; }
  .hero-row .list-inline-item { padding-right: 1.15em; }


  .main-row.-home + .bodyhead-row > .container { padding-top: 4.9em; }


  // .resources-row .row > div:nth-of-type(3n + 1) { clear: left; }
  .view-all-row  { padding-bottom: 11em; }


  .quote blockquote {
    padding: 0 0 0 4em;

    &:before {
      width: 3.5em;
      height: 3.5em;
      top: -.65em;
      left: -1em;
    }
  }

  .quote .well .quote-author {
    font-size: 1.5rem;
    font-weight: 800;
    line-height: 2.4rem;
  }



  // Well - medium
  // Wells - medium

  .well {
    h3            { margin-bottom: 0; }
    h3 > a:before { margin-top: .7em; }
  }



  // Resources - medium    Refine - medium

  .refine-row       { padding-top: 5em; }
  .refine-form .nav { margin-left: -15px; }

  .row.title h4     { border-top: 1px solid $blue5; }

  .category-row p   { @extend %-lineheight; }

  .refine-menu p    { margin-bottom: .2em; }


  .refine-menu li:nth-of-type(1),
  .refine-menu li:nth-of-type(2),
  .refine-menu li:nth-of-type(3) { .row.title h4 { border-top: none; } }

  // .refine-menu li:nth-of-type(3n+1) { clear: left; }

  .refine-menu .col-md-4 { position: relative; }

   .date-contributors-row { padding-top: 6em; }

   %listing-row > a {
     padding-right: 0;
     padding-left: 0;
     position: relative;
      left: 0;
   }

   %listing-row-dark {
     &:before {
       display: none;
     }

     &> a:before {
       width: calc(100% + 2.2em);
       left: -1.1em;
     }
   }

   .container.more-top { padding-bottom: 10em; }


   a[data-toggle="lightbox"] {
     margin-right: auto;
     margin-left: auto;
   }

   a[data-toggle="lightbox"]:after {
     background-position: 73% 50%;
   }

   a[data-toggle="lightbox"]:before {
     width: 2em;
     height: 2em;
      right: -2em;
  }



   // Blog - medium

   .main-container-fluid .-blog.main-row .container { padding-bottom: 5em; }


   .navbar-nav.-blog > li {
     margin-right: -.8em;
     margin-left: 3em;
   }

   // Blog - single
   .blog-post-header-row .image-wrapper { height: 24em; }

   // Blog - home
   .main-container-fluid > .navbar + .blog-link-row > a {
     &:before, &:after { width: calc(100% + 2.2em); }
   }

   /*  .blog-post-footer-row   */
   %footer-dark, .disqus { padding-top: 4em;   }
   .more-on { h1, h2, h3 { padding-bottom: .55em; } }
   .disqus  { h1, h2, h3 { padding-bottom: .4em;  } }

   #disqus_thread    { margin-bottom: 11.8em; }



   // Form - medium     Forms - medium      Contact - medium

   .form-row    { padding-top: 3.2em; }
   .simple_form { margin-bottom: 8em; }



   // Events - medium

   .past-upcoming-row { padding-top: 5.1em; }
   .past-upcoming-row a { margin-right: -1em; }

   .event-date h3 { margin-top: 20px; }



   // Community - medium

   .community-footer-row {
     padding-bottom: 10em;
   }

   // .author-row > .container > .row > div:nth-of-type(3n+1) { clear: left; }




  // Footer - medium

  /*.footer { padding: 0; }

  #footer {

    &> .container {
      height: 100%;
      display: flex;
       flex-direction: column;
       justify-content: space-between;
     }

    .links { padding-top: 2em; }

    .copyright-txt, .copyright-img-col {
      display: flex;
       align-items: flex-end;
    }
  }*/

  $footerh: 28.5em;
  .wrapper { min-height: 100vh; margin-bottom: -$footerh; }
  .wrapper:after { content: ''; display: block; }
  .wrapper:after/*, .footer*/ { height:$footerh; }

}




// Large devices (desktops, 62em and up)
@media (min-width: 62em) {

  $container-nopad: 940px;
  %listing-row > a { width: $container-nopad; }


  $container: 970px;
  %container { width: $container; }



  .navbar-brand { width: 15.5em; }

  body.scrollup .nav-container-fluid > .row > .container > .navbar > #navbar > .nav > li.search { right: -0.35em; }
  body:not(.scrollup) .nav .search .input-group-btn > .btn { right: -1em; }

  .nav-container-fluid > .row > .container > .navbar > .navbar-collapse > .navbar-right { margin-right: -3.3em; }

  body:not(.scrollup) .nav-container-fluid > .row > .container > .navbar > #navbar > .navbar-right > li > a {
    padding-right: 2em;
    padding-left: 2em;
  }

  a[data-toggle="lightbox"] {
    width: calc(100% - 2.8em);
    height: 20.2188em;
    margin-right: 0;
    margin-left: 0;
  }

  a[data-toggle="lightbox"]:after {
    background-position: 69% 50%;
  }


  .search.open > .dropdown-menu { width: 48em; }

}




// Extra large devices (large desktops, 75em and up)
@media (min-width: 75em) {



  // Community - extra large

  .author-col { max-width: none; }

  .author-row > .container > .row > div {
    // &:nth-of-type(3n+1) { clear: none; }

    // &:nth-of-type(3n+1):nth-of-type(4n+1),
    // &:nth-of-type(4n+1)  { clear: left; }
  }


  $container-nopad: 1140px;
  %listing-row > a { width: $container-nopad; }

  $container: 1170px;
  .resource-single-content-row .content table, %container { width: $container; }

  a[data-toggle="lightbox"] {
    height: 24.9em;
  }

  a[data-toggle="lightbox"]:after {
    background-position: 66% 50%;
  }

}
